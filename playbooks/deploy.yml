---
- name: Deploy FastAPI Application
  hosts: env_dev  # Targets instances tagged with Environment: dev
  gather_facts: true
  become: false
  
  vars:
    docker_image: "your-dockerhub-username/fastapi-cicd:latest"  # UPDATE THIS!
  
  tasks:
    - name: Display target hosts
      ansible.builtin.debug:
        msg: "Deploying to {{ inventory_hostname }}"
    
    - name: Include docker_app role
      ansible.builtin.include_role:
        name: docker_app